<div class="employees-container">
  <h2 class="title">Gesti칩n de Empleados</h2>

  <!-- 游댳 Mensajes de Error -->
  <div class="alert alert-danger" *ngIf="errors.length > 0">
    <ul>
      <li *ngFor="let error of errors">{{ error }}</li>
    </ul>
  </div>

  <!-- 游댳 Tabla de empleados -->
  <div *ngIf="employees.length; else noEmployees">
    <table class="employees-table">
      <thead>
        <tr>
          <th>Foto</th>
          <th>Nombre</th>
          <th>Correo</th>
          <th>Tel칠fono</th>
          <th>Fecha de Contrataci칩n</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let employee of employees" (click)="viewEmployeeDetails(employee.id)" class="clickable-row">
          <td>
            <img
              [src]="employee.profile_picture || '/assets/images/default-profile.png'"
              class="profile-img"
              alt="Foto de {{ employee.name }}"
            />
          </td>
          <td>{{ employee.name }}</td>
          <td>{{ employee.email }}</td>
          <td>{{ employee.phone || 'No disponible' }}</td>
          <td>{{ employee.registered_at | date: 'dd/MM/yyyy' }}</td>
          <td>
            <span [ngClass]="getStatusClass(employee.status)">{{ getStatusText(employee.status) }}</span>
          </td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="confirmDelete(employee.id, employee.name, $event)">
              Baja
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- 游댳 Mensaje si no hay empleados -->
  <ng-template #noEmployees>
    <p class="no-employees">No hay empleados registrados.</p>
  </ng-template>

  <!-- 游댳 Bot칩n para agregar empleados -->
  <button class="btn btn-success add-employee-btn" (click)="openAddEmployeeModal()">A침adir Empleado</button>

  <!-- 游댳 Modal para a침adir empleados -->
  <app-add-employee
    *ngIf="showAddEmployeeModal"
    [companyId]="companyId"
    (employeeAdded)="onEmployeeAdded($event)"
    (close)="closeAddEmployeeModal()"
  ></app-add-employee>
</div>
